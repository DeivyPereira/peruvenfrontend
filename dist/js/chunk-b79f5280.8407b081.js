(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b79f5280"],{"37bb":function(e,a,t){},"5daa":function(e,a,t){"use strict";var o=t("37bb"),r=t.n(o);r.a},"64d2":function(e,a,t){"use strict";var o=[{value:"Argentina",label:"Argentina",money:["Pesos Argentinos","Dólares"]},{value:"Bolivia",label:"Bolivia",money:["Boliviano","Dólares"]},{value:"Brasil",label:"Brasil",money:["Reals","Dólares"]},{value:"Chile",label:"Chile",money:["Pesos Chileno","Dólares"]},{value:"Colombia",label:"Colombia",money:["Pesos Colombiano","Dólares"]},{value:"Costa Rica",label:"Costa Rica",money:["Colón costarricense","Dólares"]},{value:"Cuba",label:"Cuba",money:["Pesos Cubano","Dólares"]},{value:"Ecuador",label:"Ecuador",money:["Dólares"]},{value:"El Salvador",label:"El Salvador",money:["Dólares"]},{value:"Guayana Francesa",label:"Guayana Francesa",money:["Euro","Dólares"]},{value:"Granada",label:"Granada",money:["Dólares del Caribe Oriental","Dólares"]},{value:"Guatemala",label:"Guatemala",money:["Quetzal","Dólares"]},{value:"Guayana",label:"Guayana",money:["Dólares guyanés","Dólares"]},{value:"Haiti",label:"Haiti",money:["Gourde","Dólares"]},{value:"Honduras",label:"Honduras",money:["Lempiras hondureños","Dólares"]},{value:"Jamaica",label:"Jamaica",money:["Dólareses jamaiquino","Dólares"]},{value:"Mexico",label:"Mexico",money:["Pesos mexicanos","Dólares"]},{value:"Nicaragua",label:"Nicaragua",money:["Córdobas","Dólares"]},{value:"Paraguay",label:"Paraguay",money:["Guaraní paraguayos","Dólares"]},{value:"Panama",label:"Panama",money:["Balboa","Dólares"]},{value:"Peru",label:"Peru",money:["Soles","Dólares"]},{value:"Puerto Rico",label:"Puerto Rico",money:["Dólares"]},{value:"Republica Dominicana",label:"Republica Dominicana",money:["Pesos dominicano","Dólares"]},{value:"Surinam",label:"Surinam",money:["Dólares surinamés","Dólares"]},{value:"Uruguay",label:"Uruguay",money:["Pesos uruguayo","Dólares"]},{value:"Venezuela",label:"Venezuela",money:["Bolivares","Dólares"]},{value:"Espana",label:"Espana",money:["Euros","Dólares"]},{value:"Estados Unidos",label:"Estados Unidos",money:["Dólares"]},{value:"Europa",label:"Europa",money:["Euros","Dólares"]}];a["a"]={pais:o}},"6ad5":function(e,a,t){"use strict";t.r(a);var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"Clients"}},[t("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{lg12:""}},[t("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.basic.dialog,callback:function(a){e.$set(e.basic,"dialog",a)},expression:"basic.dialog"}},[t("v-stepper",{model:{value:e.e1,callback:function(a){e.e1=a},expression:"e1"}},[t("v-stepper-header",[t("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("Seleccione el cliente")]),t("v-divider"),t("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v("Complete el formulario")])],1),t("v-stepper-items",[t("v-stepper-content",{attrs:{step:"1"}},[t("v-form",{ref:"findClientForm",on:{submit:function(a){return e.getClient()}}},[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{lg11:"",md11:"",sm11:"",xs11:""}},[t("v-text-field",{attrs:{loading:e.loading.searchClient,rules:[function(e){return!!e||"Campo requerido"}],label:"Nombre o documento del cliente"},model:{value:e.searchClient.client,callback:function(a){e.$set(e.searchClient,"client",a)},expression:"searchClient.client"}})],1),t("v-flex",{attrs:{lg1:"",md1:"",sm1:"",xs1:""}},[t("button",{staticClass:"search-btn",attrs:{type:"submit"}},[t("i",{staticClass:"fa fa-search"})])])],1)],1),t("div",{staticClass:"table-responsive"},[t("table",[t("thead",[t("tr",[t("th",[e._v("Documento")]),t("th",[e._v("Nombre")]),t("th",[e._v("Contacto")])])]),t("tbody",e._l(e.client,function(a){return t("tr",{key:a.id},[t("td",[e._v(e._s(e._f("doc_typesFilter")(a.doc_type))+" "+e._s(a.number))]),t("td",[e._v(e._s(a.shipper))]),t("td",[e._v(e._s(a.phone))])])}),0)]),0===e.client.length?t("div",{staticStyle:{"text-align":"center",padding:"0.75rem"}},[t("h4",[t("i",{staticClass:"fa fa-exclamation-circle"}),e._v(" \n                                  Realice su búsqueda  \n                              ")])]):e._e()]),t("v-layout",[t("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[t("v-btn",{attrs:{flat:"",disabled:""}},[e._v("\n                                  Regresar\n                              ")]),t("v-btn",{attrs:{color:"primary",disabled:e.disabledBtn.goToForm},on:{click:function(a){e.e1=2}}},[e._v("\n                                  Continuar\n                              ")])],1),t("v-flex",{staticStyle:{"text-align":"right"},attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[t("v-btn",{attrs:{color:"error"},nativeOn:{click:function(a){e.basic.dialog=!1}}},[e._v("\n                                  Cerrar\n                              ")])],1)],1)],1),t("v-stepper-content",{attrs:{step:"2"}},[t("v-form",{ref:"form",attrs:{"lazy-validation":""}},[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[t("v-select",{attrs:{label:"Documento",items:e.basic.doc_types,"item-text":"text","item-value":"value",rules:[function(e){return!!e||"Campo requerido"}]},model:{value:e.form.doc_type,callback:function(a){e.$set(e.form,"doc_type",a)},expression:"form.doc_type"}})],1),t("v-flex",{attrs:{xs9:"",sm4:"",md4:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:[function(e){return!!e||"Campo requerido"}],label:"Número"},model:{value:e.form.number,callback:function(a){e.$set(e.form,"number",a)},expression:"form.number"}})],1),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:e.onlyText,label:"Destinatario"},model:{value:e.form.destination_name,callback:function(a){e.$set(e.form,"destination_name",a)},expression:"form.destination_name"}})],1),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:e.onlyText,label:"Atención"},model:{value:e.form.attention,callback:function(a){e.$set(e.form,"attention",a)},expression:"form.attention"}})],1),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:[function(e){return!!e||"Campo requerido"}],label:"Número telefónico"},model:{value:e.form.phone,callback:function(a){e.$set(e.form,"phone",a)},expression:"form.phone"}})],1),t("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[t("v-text-field",{attrs:{disabled:e.disabled,label:"Correo Electrónico"},model:{value:e.form.email,callback:function(a){e.$set(e.form,"email",a)},expression:"form.email"}})],1),t("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:[function(e){return!!e||"Campo requerido"}],label:"Dirección"},model:{value:e.form.address,callback:function(a){e.$set(e.form,"address",a)},expression:"form.address"}})],1),t("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[t("v-select",{attrs:{label:"País",items:e.basic.countries,"item-text":"label","item-value":"value",rules:[function(e){return!!e||"Campo requerido"}]},model:{value:e.form.country,callback:function(a){e.$set(e.form,"country",a)},expression:"form.country"}})],1),t("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:e.onlyText,label:"Ciudad"},model:{value:e.form.city,callback:function(a){e.$set(e.form,"city",a)},expression:"form.city"}})],1),t("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:[function(e){return!!e||"Campo requerido"}],label:"Código Postal / ZIP"},model:{value:e.form.zip,callback:function(a){e.$set(e.form,"zip",a)},expression:"form.zip"}})],1)],1)],1)],1),t("v-layout",[t("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[t("v-btn",{attrs:{flat:""},on:{click:function(a){e.e1=1}}},[e._v("\n                                  Regresar\n                              ")]),t("v-btn",{attrs:{color:"success"},on:{click:function(a){return e.validate()}}},[e._v("\n                                  Guardar\n                              ")])],1),t("v-flex",{staticStyle:{"text-align":"right"},attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[t("v-btn",{attrs:{color:"error"},nativeOn:{click:function(a){e.basic.dialog=!1}}},[e._v("\n                                  Cerrar\n                              ")])],1)],1)],1)],1)],1)],1),t("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.basic.dialogEdit,callback:function(a){e.$set(e.basic,"dialogEdit",a)},expression:"basic.dialogEdit"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"headline"},[e._v("Editar Afiliado")])]),t("v-divider"),t("v-card-text",[t("v-form",{ref:"editForm",attrs:{"lazy-validation":""}},[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[t("v-select",{attrs:{label:"Documento",items:e.basic.doc_types,"item-text":"text","item-value":"value",rules:[function(e){return!!e||"Campo requerido"}]},model:{value:e.form.doc_type,callback:function(a){e.$set(e.form,"doc_type",a)},expression:"form.doc_type"}})],1),t("v-flex",{attrs:{xs9:"",sm4:"",md4:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:[function(e){return!!e||"Campo requerido"}],label:"Número"},model:{value:e.form.number,callback:function(a){e.$set(e.form,"number",a)},expression:"form.number"}})],1),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:e.onlyText,label:"Destinatario"},model:{value:e.form.destination_name,callback:function(a){e.$set(e.form,"destination_name",a)},expression:"form.destination_name"}})],1),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:e.onlyText,label:"Atención"},model:{value:e.form.attention,callback:function(a){e.$set(e.form,"attention",a)},expression:"form.attention"}})],1),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:[function(e){return!!e||"Campo requerido"}],label:"Número telefónico"},model:{value:e.form.phone,callback:function(a){e.$set(e.form,"phone",a)},expression:"form.phone"}})],1),t("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[t("v-text-field",{attrs:{disabled:e.disabled,label:"Correo Electrónico"},model:{value:e.form.email,callback:function(a){e.$set(e.form,"email",a)},expression:"form.email"}})],1),t("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:[function(e){return!!e||"Campo requerido"}],label:"Dirección"},model:{value:e.form.address,callback:function(a){e.$set(e.form,"address",a)},expression:"form.address"}})],1),t("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[t("v-select",{attrs:{label:"País",items:e.basic.countries,"item-text":"label","item-value":"value",rules:[function(e){return!!e||"Campo requerido"}]},model:{value:e.form.country,callback:function(a){e.$set(e.form,"country",a)},expression:"form.country"}})],1),t("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:e.onlyText,label:"Ciudad"},model:{value:e.form.city,callback:function(a){e.$set(e.form,"city",a)},expression:"form.city"}})],1),t("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[t("v-text-field",{attrs:{disabled:e.disabled,rules:[function(e){return!!e||"Campo requerido"}],label:"Código Postal / ZIP"},model:{value:e.form.zip,callback:function(a){e.$set(e.form,"zip",a)},expression:"form.zip"}})],1)],1)],1)],1)],1),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{color:"success"},on:{click:function(a){return e.validateEdit()}}},[e._v("\n                          Guardar\n                      ")]),t("v-btn",{attrs:{color:"error"},nativeOn:{click:function(a){e.basic.dialogEdit=!1}}},[e._v("\n                          Cerrar\n                      ")])],1)],1)],1),t("v-toolbar",{attrs:{card:"",color:"white"}},[t("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"search",placeholder:"Buscar...","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}}),t("v-btn",{attrs:{color:"success",flat:""},on:{click:function(a){e.isEdit=!1,e.clearInputs(),e.basic.dialog=!0}}},[t("i",{staticClass:"fa fa-plus"}),e._v(" Agregar")])],1),1==e.generalLoader?t("v-progress-circular",{staticStyle:{position:"fixed",bottom:"10%",right:"5%"},attrs:{indeterminate:"",size:40,color:"primary"}}):e._e(),t("v-data-table",{attrs:{headers:e.complex.headers,search:e.search,items:e.complex.items,"rows-per-page-items":[10,25,50,{text:"All",value:-1}],"item-key":"name"},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",{staticStyle:{width:"200px"}},[e._v(e._s(a.item.destination_name))]),t("td",{staticStyle:{width:"180px"}},[e._v(e._s(a.item.clients.shipper))]),t("td",{staticStyle:{width:"100px"}},[e._v(e._s(e._f("doc_typesFilter")(a.item.doc_type)))]),t("td",{staticStyle:{width:"100px"}},[e._v(e._s(a.item.number))]),t("td",[e._v(e._s(a.item.phone))]),t("td",{staticStyle:{"text-align":"right"}},[t("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"primary",small:""},on:{click:function(t){return e.edit(a.item.id)}}},[t("v-icon",[e._v("edit")])],1),t("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"red",small:""},on:{click:function(t){return e.remove(a.item.id)}}},[t("v-icon",[e._v("delete")])],1)],1)]}}])})],1)],1)],1),t("v-snackbar",{attrs:{timeout:3e3,top:"",right:"",color:e.snackbar.color},model:{value:e.snackbar.show,callback:function(a){e.$set(e.snackbar,"show",a)},expression:"snackbar.show"}},[t("p",{staticStyle:{margin:"0"}},[t("i",{class:e.snackbar.icon}),e._v(" \n    "+e._s(e.snackbar.text)+"\n  ")]),t("v-btn",{attrs:{dark:"",flat:"",icon:""},nativeOn:{click:function(a){e.snackbar.show=!1}}},[t("v-icon",[e._v("close")])],1)],1),t("v-icon")],1)},r=[],s=t("da71"),i=t("64d2"),n={data:function(){return{e1:0,valid:!1,search:"",isEdit:!1,searchClient:{client:""},loading:{searchClient:!1},disabledBtn:{goToForm:!0},onlyEmail:[function(e){return/.+@.+/.test(e)||"Formato de correo electrónico no válido"}],onlyText:[function(e){return!!e||"Campo requerido"},function(e){return isNaN(e)||"Campo solo debe contener letras"}],onlyNumbers:[function(e){return!!e||"Campo requerido"},function(e){return!isNaN(e)||"Campo solo debe contener números"}],form:{id:null,destination_name:"",doc_type:"",number:"",attention:"",address:"",country:"",city:"",phone:"",email:"",zip:""},client:[],complex:{headers:[{text:"Destinatario",value:"destination_name"},{text:"Remitente",value:"client.shipper"},{text:"Tipo de Documento",value:"doc_type"},{text:"Número de documento",value:"number"},{text:"Teléfono",value:"phone"},{text:"",value:""}],items:[]},snackbar:{show:!1,text:"",color:"",icon:""},basic:{dialog:!1,dialogEdit:!1,doc_types:[{value:"1",text:"Pto"},{value:"2",text:"Pasaporte"},{value:"3",text:"C.E:"},{value:"4",text:"C.I."}],countries:i["a"].pais},saveLoader:!1,removeLoader:!1,generalLoader:!1,modalLoader:!1,disabled:!1}},filters:{doc_typesFilter:function(e){var a={1:"Pto",2:"Pasaporte",3:"C.E.",4:"C.I."};return a[e]}},computed:{currentTitle:function(){switch(this.step){case 1:return"Seleccione el cliente";default:return"Complete el formulario"}}},mounted:function(){this.getList()},methods:{getClient:function(){var e=this;event.preventDefault(),this.loading.searchClient=!0,this.$refs.findClientForm.validate()&&s["a"].get("clients/by-number?key="+this.searchClient.client).then(function(a){a.data.status?(e.client=a.data.data,e.disabledBtn.goToForm=!1):e.snackbar={show:!0,text:a.data.msg,color:"error",icon:"fa fa-exclamation-triangle"},e.loading.searchClient=!1})},getList:function(){var e=this;this.generalLoader=!0,s["a"].get("afiliated").then(function(a){e.complex.items=a.data.items,e.generalLoader=!1}).catch(function(a){e.snackbar={show:!0,text:a,color:"danger",icon:"fas fa-exclamation-triangle"}})},validate:function(){this.$refs.form.validate()&&this.save()},validateEdit:function(){this.$refs.editForm.validate()&&this.save()},remove:function(e){var a=this;this.$confirm("¿Realmente quieres eliminar este elemento?").then(function(t){t&&(a.generalLoader=!0,s["a"].delete("afiliated/"+e).then(function(e){a.snackbar={show:!0,text:e.data.response,color:"success",icon:"fa fa-check"},a.getList()}).catch(function(e){a.snackbar={show:!0,text:e,color:"danger",icon:"fa fa-check"}}))})},edit:function(e){var a=this;this.isEdit=!0,this.basic.dialogEdit=!0,this.modalLoader=!0,this.disabled=!0,s["a"].get("afiliated/"+e).then(function(e){a.form.id=e.data.data.id,a.form.destination_name=e.data.data.destination_name,a.form.doc_type=e.data.data.doc_type,a.form.number=e.data.data.number,a.form.attention=e.data.data.attention,a.form.address=e.data.data.address,a.form.country=e.data.data.country,a.form.city=e.data.data.city,a.form.phone=e.data.data.phone,a.form.email=e.data.data.email,a.form.zip=e.data.data.zip,a.modalLoader=!1,a.disabled=!1}).catch(function(e){a.snackbar={show:!0,text:e,color:"danger",icon:"fa fa-exclamation-triangle"}})},clearInputs:function(){this.form.id=null,this.form.destination_name="",this.form.doc_type="",this.form.number="",this.form.attention="",this.form.address="",this.form.country="",this.form.city="",this.form.phone="",this.form.email="",this.form.zip="",this.$refs.form.reset()},save:function(){var e=this;if(this.saveLoader=!0,this.isEdit){a={id:this.form.id,destination_name:this.form.destination_name,doc_type:this.form.doc_type,number:this.form.number,attention:this.form.attention,address:this.form.address,country:this.form.country,city:this.form.city,phone:this.form.phone,email:this.form.email,zip:this.form.zip};s["a"].put("afiliated/"+this.form.id,a).then(function(a){a.data.status?(e.snackbar={show:!0,text:a.data.response,color:"success",icon:"fa fa-check"},e.basic.dialog=!1,e.getList()):e.snackbar={show:!0,text:a.data.response,color:"danger",icon:"fas fa-exclamation-triangle"},e.saveLoader=!1}).catch(function(a){e.snackbar={show:!0,text:a,color:"danger",icon:"fas fa-exclamation-triangle"}})}else{var a={clients_id:this.client[0].id,destination_name:this.form.destination_name,doc_type:this.form.doc_type,number:this.form.number,attention:this.form.attention,address:this.form.address,country:this.form.country,city:this.form.city,phone:this.form.phone,email:this.form.email,zip:this.form.zip};s["a"].post("afiliated/",a).then(function(a){a.data.status?(e.snackbar={show:!0,text:a.data.response,color:"success",icon:"fa fa-check"},e.basic.dialog=!1,e.clearInputs(),e.getList()):e.snackbar={show:!0,text:a.data.response,color:"danger",icon:"fas fa-exclamation-triangle"},e.saveLoader=!1}).catch(function(a){e.snackbar={show:!0,text:a,color:"danger",icon:"fas fa-exclamation-triangle"}})}}}},l=n,c=(t("5daa"),t("b863"),t("2877")),d=t("6544"),m=t.n(d),u=t("8336"),f=t("b0af"),v=t("99d9"),b=t("12b2"),p=t("a523"),x=t("8fea"),h=t("169a"),y=t("ce7e"),g=t("0e8f"),_=t("4bd4"),C=t("132d"),k=t("a722"),D=t("490a"),w=t("b56d"),E=t("2db4"),$=t("9910"),S=t("7e85"),P=t("e516"),V=t("9c54"),z=t("56a4"),L=t("2677"),q=t("71d9"),T=Object(c["a"])(l,o,r,!1,null,"0bc6874b",null);a["default"]=T.exports;m()(T,{VBtn:u["a"],VCard:f["a"],VCardActions:v["b"],VCardText:v["d"],VCardTitle:b["a"],VContainer:p["a"],VDataTable:x["a"],VDialog:h["a"],VDivider:y["a"],VFlex:g["a"],VForm:_["a"],VIcon:C["a"],VLayout:k["a"],VProgressCircular:D["a"],VSelect:w["a"],VSnackbar:E["a"],VSpacer:$["e"],VStepper:S["a"],VStepperContent:P["a"],VStepperHeader:V["c"],VStepperItems:V["d"],VStepperStep:z["a"],VTextField:L["a"],VToolbar:q["a"]})},b863:function(e,a,t){"use strict";var o=t("dc6f"),r=t.n(o);r.a},dc6f:function(e,a,t){}}]);
//# sourceMappingURL=chunk-b79f5280.8407b081.js.map