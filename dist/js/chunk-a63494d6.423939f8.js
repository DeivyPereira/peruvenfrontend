(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a63494d6"],{"087d":function(e,t,a){"use strict";var i=a("3859"),l=a.n(i);l.a},3859:function(e,t,a){},d5b1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Assemble"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("Guia Master")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v("Paquetes")]),a("v-divider"),a("v-stepper-step",{attrs:{step:"3"}},[e._v("Confirmar")]),a("v-divider")],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-btn",{attrs:{color:"info"},on:{click:function(t){e.dialog.selectPackage=!0}}},[e._v("Seleccionar Guia Master")]),e.form.package?a("h4",[e._v("Fecha de salida: "+e._s(e.form.package.out_date))]):e._e(),e.form.package?a("h4",[e._v("Destino: "+e._s(e.form.package.arriving_place))]):e._e(),e.form.package?a("h4",[e._v("Fecha de Creación: "+e._s(e.form.package.created))]):e._e(),e.form.package?a("h4",[e._v("Origen: "+e._s(e.form.package.out_place))]):e._e(),e.form.package?a("h4",[e._v("Cantidad de Paquetes: "+e._s(e.form.package.tracking_.length))]):e._e(),e.form.package?a("h4",[e._v("Guia Master: "+e._s(e.form.package.tracking))]):e._e()],1)],1),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-btn",{attrs:{flat:"",disabled:""}},[e._v("Regresar")]),a("v-btn",{attrs:{color:"primary",disabled:e.disabledBtn.modality},on:{click:function(t){e.e1=2}}},[e._v("Continuar")])],1)],1)],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-form",{ref:"clientForm",attrs:{"lazy-validation":""}},[a("v-layout",{attrs:{wrap:"",row:""}},[a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{rules:e.onlyText,disabled:e.disabled.clientField,label:"Remitente"},on:{keyup:function(t){return e.blurValidate()}},model:{value:e.form.client.shipper,callback:function(t){e.$set(e.form.client,"shipper",t)},expression:"form.client.shipper"}})],1),a("v-flex",{attrs:{lg2:"",md2:"",sm12:"",xs12:""}},[a("v-select",{attrs:{label:"Documento",items:e.basic.doc_types,"item-text":"text","item-value":"value",disabled:e.disabled.clientField,rules:[function(e){return!!e||"Campo requerido"}]},on:{input:function(t){return e.blurValidate()}},model:{value:e.form.client.doc_type,callback:function(t){e.$set(e.form.client,"doc_type",t)},expression:"form.client.doc_type"}})],1),a("v-flex",{attrs:{lg4:"",md4:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{label:"Número",disabled:e.disabled.clientField,rules:[function(e){return!!e||"Campo requerido"}]},on:{keyup:function(t){return e.blurValidate()}},model:{value:e.form.client.number,callback:function(t){e.$set(e.form.client,"number",t)},expression:"form.client.number"}})],1),a("v-flex",{attrs:{lg4:"",md4:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{rules:e.onlyText,label:"Persona de Contacto"},on:{keyup:function(t){return e.blurValidate()}},model:{value:e.form.client.contact_person,callback:function(t){e.$set(e.form.client,"contact_person",t)},expression:"form.client.contact_person"}})],1),a("v-flex",{attrs:{lg4:"",md4:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Campo requerido"}],label:"Número Telefónico"},on:{keyup:function(t){return e.blurValidate()}},model:{value:e.form.client.phone,callback:function(t){e.$set(e.form.client,"phone",t)},expression:"form.client.phone"}})],1),a("v-flex",{attrs:{lg4:"",md4:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{label:"Correo Electrónico"},on:{keyup:function(t){return e.blurValidate()}},model:{value:e.form.client.email,callback:function(t){e.$set(e.form.client,"email",t)},expression:"form.client.email"}})],1),a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{label:"Dirección"},on:{keyup:function(t){return e.blurValidate()}},model:{value:e.form.client.address,callback:function(t){e.$set(e.form.client,"address",t)},expression:"form.client.address"}})],1),a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-select",{attrs:{label:"País",items:e.basic.countries,"item-text":"label","item-value":"value",autocomplete:"",rules:[function(e){return!!e||"Campo requerido"}]},on:{input:function(t){e.blurValidate(),e.getCurrencies()}},model:{value:e.form.client.country,callback:function(t){e.$set(e.form.client,"country",t)},expression:"form.client.country"}})],1),a("v-flex",{attrs:{lg4:"",md4:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{rules:e.onlyText,label:"Ciudad"},on:{keyup:function(t){return e.blurValidate()}},model:{value:e.form.client.city,callback:function(t){e.$set(e.form.client,"city",t)},expression:"form.client.city"}})],1)],1),a("v-layout",[a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-btn",{attrs:{flat:""},on:{click:function(t){e.e1=1}}},[e._v("Regresar")]),a("v-btn",{attrs:{color:"primary",disabled:e.disabledBtn.firsStep},on:{click:function(t){e.e1=3}}},[e._v("Continuar")]),e.disabled.clientField?a("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.resetClientFields()}}},[e._v("Restablecer")]):e._e()],1),a("v-flex",{staticStyle:{"text-align":"right"},attrs:{lg3:"",md3:"",sm12:"",xs12:""}},[a("v-btn",{attrs:{color:"success",flat:""},on:{click:function(t){e.dialog.searchClient=!0}}},[a("i",{staticClass:"fa fa-search"}),e._v(" \n                  Buscar Cliente\n                ")])],1)],1)],1)],1),a("v-stepper-content",{attrs:{step:"3"}},[a("v-form",{ref:"addAfiliateForm"},[a("v-layout",{attrs:{wrap:"",row:""}},[a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{rules:e.onlyText,disabled:e.disabled.afiliateField,label:"Destinatario"},on:{keyup:function(t){return e.blurValidateAfiliate()}},model:{value:e.form.afiliates.destination_name,callback:function(t){e.$set(e.form.afiliates,"destination_name",t)},expression:"form.afiliates.destination_name"}})],1),a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{rules:e.onlyText,label:"Atención"},on:{keyup:function(t){return e.blurValidateAfiliate()}},model:{value:e.form.afiliates.attention,callback:function(t){e.$set(e.form.afiliates,"attention",t)},expression:"form.afiliates.attention"}})],1),a("v-flex",{attrs:{md2:"",lg2:"",sm4:"",xs4:""}},[a("v-select",{attrs:{label:"Documento",items:e.basic.doc_types,"item-text":"text","item-value":"value",disabled:e.disabled.afiliateField,rules:[function(e){return!!e||"Campo requerido"}]},on:{input:function(t){return e.blurValidateAfiliate()}},model:{value:e.form.afiliates.doc_type,callback:function(t){e.$set(e.form.afiliates,"doc_type",t)},expression:"form.afiliates.doc_type"}})],1),a("v-flex",{attrs:{md4:"",lg4:"",sm9:"",xs9:""}},[a("v-text-field",{attrs:{disabled:e.disabled.afiliateField,rules:e.onlyText,label:"Número"},on:{keyup:function(t){return e.blurValidateAfiliate()}},model:{value:e.form.afiliates.number,callback:function(t){e.$set(e.form.afiliates,"number",t)},expression:"form.afiliates.number"}})],1),a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{rules:e.onlyText,label:"Dirección"},on:{keyup:function(t){return e.blurValidateAfiliate()}},model:{value:e.form.afiliates.address,callback:function(t){e.$set(e.form.afiliates,"address",t)},expression:"form.afiliates.address"}})],1),a("v-flex",{attrs:{lg4:"",md4:"",sm12:"",xs12:""}},[a("v-select",{attrs:{label:"País",rules:[function(e){return!!e||"Campo requerido"}],items:e.basic.countries,"item-text":"label",autocomplete:"","item-value":"value"},on:{input:function(t){e.blurValidateAfiliate(),e.getCurrencies()}},model:{value:e.form.afiliates.country,callback:function(t){e.$set(e.form.afiliates,"country",t)},expression:"form.afiliates.country"}})],1),"Venezuela"==e.form.afiliates.country?a("v-flex",{attrs:{lg4:"",md4:"",sm12:"",xs12:""}},[a("v-select",{attrs:{label:"Ciudad",rules:[function(e){return!!e||"Campo requerido"}],items:e.basic.citys,autocomplete:"","item-text":"state","item-value":"state"},on:{input:function(t){e.blurValidateAfiliate(),e.getOfficeTealca()}},model:{value:e.form.afiliates.city,callback:function(t){e.$set(e.form.afiliates,"city",t)},expression:"form.afiliates.city"}})],1):a("v-flex",{attrs:{lg4:"",md4:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{rules:e.onlyText,label:"Ciudad"},on:{keyup:function(t){return e.blurValidateAfiliate()}},model:{value:e.form.afiliates.city,callback:function(t){e.$set(e.form.afiliates,"city",t)},expression:"form.afiliates.city"}})],1),"Venezuela"==e.form.afiliates.country?a("v-flex",{attrs:{lg4:"",md4:"",sm12:"",xs12:""}},[a("v-select",{attrs:{label:"Oficina Tealca",rules:[function(e){return!!e||"Campo requerido"}],items:e.basic.office_tealca,autocomplete:"","item-text":"label","item-value":"value"},on:{input:function(t){e.blurValidateAfiliate(),e.selectOfficeTealca()}},model:{value:e.form.details.tealca_office,callback:function(t){e.$set(e.form.details,"tealca_office",t)},expression:"form.details.tealca_office"}})],1):e._e(),e.form.details.tealca_direction?a("v-flex",{attrs:{lg12:"",md12:"",sm12:"",xs12:""}},[a("p",[e._v(e._s(e.form.details.tealca_direction))])]):e._e(),a("v-flex",{attrs:{lg4:"",md4:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Campo requerido"}],label:"Número telefónico"},on:{keyup:function(t){return e.blurValidateAfiliate()}},model:{value:e.form.afiliates.phone,callback:function(t){e.$set(e.form.afiliates,"phone",t)},expression:"form.afiliates.phone"}})],1),a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-text-field",{attrs:{label:"Correo Electrónico"},on:{keyup:function(t){return e.blurValidateAfiliate()}},model:{value:e.form.afiliates.email,callback:function(t){e.$set(e.form.afiliates,"email",t)},expression:"form.afiliates.email"}})],1)],1),a("v-layout",[a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-btn",{attrs:{flat:""},on:{click:function(t){e.e1=2}}},[e._v("Regresar")]),a("v-btn",{attrs:{color:"primary",disabled:e.disabledBtn.secondStep},on:{click:function(t){e.e1=4,e.getCurrencies(),e.getTaxesSelected()}}},[e._v("Continuar")]),e.disabled.afiliateField?a("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.resetAfiliateFields()}}},[e._v("Restablecer")]):e._e()],1),a("v-flex",{staticStyle:{"text-align":"right"},attrs:{lg3:"",md3:"",sm12:"",xs12:""}},[null!==e.form.client.id?a("v-btn",{attrs:{color:"success",flat:""},on:{click:function(t){e.dialog.searchAfiliate=!0,e.getAfiliated()}}},[a("i",{staticClass:"fa fa-search"}),e._v(" \n                  Buscar Afiliados\n                ")]):e._e()],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"800px"},model:{value:e.dialog.selectPackage,callback:function(t){e.$set(e.dialog,"selectPackage",t)},expression:"dialog.selectPackage"}},[a("v-card",[a("v-card-text",[a("div",{staticClass:"table-responsive"},[a("table",[a("thead",[a("tr",[a("th",[e._v("Tracking")]),a("th",[e._v("Fecha de salida")]),a("th",[e._v("Salida")]),a("th",[e._v("Fecha de Llegada")]),a("th",[e._v("Llegada")]),a("th")])]),a("tbody",e._l(e.request.package,function(t){return a("tr",[a("td",[e._v(e._s(t.tracking))]),a("td",[e._v(e._s(t.out_date))]),a("td",[e._v(e._s(t.out_place))]),a("td",[e._v(e._s(t.arriving_date))]),a("td",[e._v(e._s(t.arriving_place))]),a("td",[a("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"success",small:""},on:{click:function(a){return e.addPackage(t.id,t,t.out_date)}}},[a("v-icon",[e._v("fa fa-plus")])],1)],1)])}),0)]),0===e.request.package.length?a("div",{staticStyle:{"text-align":"center",padding:"0.75rem"}},[a("h4",[a("i",{staticClass:"fa fa-exclamation-circle"}),e._v(" \n              No hay datos para mostrar\n            ")])]):e._e()])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error"},nativeOn:{click:function(t){e.dialog.selectPackage=!1}}},[e._v("Cerrar")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:3e3,top:"",right:"",color:e.snackbar.color},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[a("p",{staticStyle:{margin:"0"}},[a("i",{class:e.snackbar.icon}),e._v("\n       \n      "+e._s(e.snackbar.text)+"\n    ")]),a("v-btn",{attrs:{dark:"",flat:"",icon:""},nativeOn:{click:function(t){e.snackbar.show=!1}}},[a("v-icon",[e._v("close")])],1)],1)],1)},l=[],r=(a("a481"),a("bd86")),n=a("da71"),o=a("64d2"),s=a("468d"),c={data:function(){var e;return{countryUser:localStorage.getItem("country"),weight:2900,modality:"",menu1:!1,menu2:!1,e1:0,saveLoader:!1,ensurance:0,taxes:[],taxesSelected:[],volumetricForm:0,search:{client:"",afiliated:"",package:""},snackbar:{show:!1,text:"",color:"",icon:""},disabledBtn:{firsStep:!0,secondStep:!0,thirStep:!0,addClient:!0,addAfiliate:!0,modality:!0,addPackage:!0,goBackBeforeSave:!1},request:{client:[],afiliates:[],package:[]},disabled:{clientField:!1,afiliateField:!1,orderform:!0},loading:{searchClient:!1,searchAfiliate:!1,getSubcategories:!1,saveBtn:!1,searchPackage:!1},dialog:{searchClient:!1,searchAfiliate:!1,addProduct:!1,selectPackage:!1,addWeight:!1},checkboxes:{afiliate:!1,client:!1,valueAfiliate:!1,valueClient:!1},productToInsert:{package:"",product_type:"",description:"",category_name:"",subcategory_name:"",category:"",subcategory:"",qty:"",weight:"",price:"",price_ensurance:"",subtotal:"",kilo_id:"",kilo_value:"",ensurance:0,ensurance_value:"",product_price:"",height:0,width:0,length:0},weightToInsert:{product_type:"",actual_weight:"",weight:"",price:"",height:0,width:0,length:0,kilo_id:"",kilo_value:"",product_price:0},onlyNumbers:[function(e){return!!e||"Campo requerido"},function(e){return!isNaN(e)||"Campo solo debe contener números"}],onlyText:[function(e){return!!e||"Campo requerido"}],onlyEmail:[function(e){return/.+@.+/.test(e)||"Formato de correo electrónico no válido"}],form:{client:{id:null,shipper:"",contact_person:"",doc_type:"",number:"",address:"",country:"",city:"",phone:"",email:""},package:"",afiliates:{id:null,doc_type:"",number:"",destination_name:"",attention:"",address:"",clients_id:"",country:"",city:"",phone:"",email:""},products:[],weight:[],details:(e={ensurance:"",tracking:"",out_date:"",reason:"",modality:"",currency:"",tealca_office:"",tealca_direction:"",tealca_code:""},Object(r["a"])(e,"currency",""),Object(r["a"])(e,"total_ensurance",""),Object(r["a"])(e,"currency_ensurance",""),Object(r["a"])(e,"product_type",""),Object(r["a"])(e,"kilo_value",""),Object(r["a"])(e,"kilo_id",""),Object(r["a"])(e,"weight",""),Object(r["a"])(e,"actual_weight",""),Object(r["a"])(e,"height",""),Object(r["a"])(e,"width",""),Object(r["a"])(e,"length",""),e),total:0},basic:{taxes:[],countries:o["a"].pais,citys:s["a"].tealca,money:[],office_tealca:[],doc_types:[{value:"1",text:"PTP"},{value:"2",text:"DNI"},{value:"3",text:"Pasaporte"},{value:"4",text:"C.E."},{value:"5",text:"C.I."}],product_type:[{value:1,text:"Por Kilos"},{value:3,text:"Kilo volumétrico"},{value:2,text:"Manual"}],product_element:[{value:1,text:"Incluido"},{value:2,text:"Separado"}],categories:[],subCategories:[],measureUnits:[],modality:[{value:"1",text:"Pago en el origen"},{value:"2",text:"Cobro en destino"}],ensurance:[{value:0,text:"No"},{value:1,text:"Si"}],kilos:[]}}},filters:{doc_typesFilter:function(e){var t={1:"PTP",2:"DNI",3:"Pasaporte",4:"C.E.",5:"C.I."};return t[e]}},computed:{currentTitle:function(){switch(this.step){case 1:return"Modalidad";case 2:return"Origen";case 3:return"Destino";case 4:return"Detalles";case 5:return"Confirmar";default:return"Confirmar"}}},watch:{modality:function(e){this.form.details.modality=e,this.blurStepOne()},ensurance:function(e){this.form.details.ensurance=e,this.blurStepOne()},taxes:function(){this.blurStepOne()}},mounted:function(){this.getTaxonomies(),this.getTaxes()},created:function(){this.getPackage(),this.setTracking()},methods:{blurStepOne:function(){""!=this.form.details.modality&&""!=this.form.package.package_id&&this.taxes.length>0?this.disabledBtn.modality=!1:this.disabledBtn.modality=!0},addPackage:function(e,t,a){console.log(t),this.form.package=t,this.dialog.selectPackage=!1,this.disabledBtn.modality=!1},getPackage:function(){var e=this,t="package?ordered=1";if('"2"'==localStorage.getItem("role")||'"3"'==localStorage.getItem("role")){var a=localStorage.getItem("country");a=a.replace(/[ '"]+/g,"");t="package?ordered=1&country="+a}n["a"].get(t).then(function(t){t.data.status?(e.request.package=t.data.items,e.disabledBtn.addPackage=!1):(e.request.afiliates=[],e.disabledBtn.addAfiliate=!0,e.snackbar={show:!0,text:t.data.msg,color:"error",icon:"fa fa-exclamation-triangle"}),e.loading.searchPackage=!1})}}},d=c,u=(a("087d"),a("2877")),f=a("6544"),m=a.n(f),p=a("8336"),v=a("b0af"),b=a("99d9"),g=a("a523"),x=a("169a"),_=a("ce7e"),k=a("0e8f"),h=a("4bd4"),y=a("132d"),C=a("a722"),V=a("b56d"),S=a("2db4"),w=a("9910"),P=a("7e85"),T=a("e516"),A=a("9c54"),F=a("56a4"),O=a("2677"),$=Object(u["a"])(d,i,l,!1,null,"360a3b82",null);t["default"]=$.exports;m()($,{VBtn:p["a"],VCard:v["a"],VCardActions:b["b"],VCardText:b["d"],VContainer:g["a"],VDialog:x["a"],VDivider:_["a"],VFlex:k["a"],VForm:h["a"],VIcon:y["a"],VLayout:C["a"],VSelect:V["a"],VSnackbar:S["a"],VSpacer:w["e"],VStepper:P["a"],VStepperContent:T["a"],VStepperHeader:A["c"],VStepperItems:A["d"],VStepperStep:F["a"],VTextField:O["a"]})}}]);
//# sourceMappingURL=chunk-a63494d6.423939f8.js.map